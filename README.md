# LSTM-Based Real-Time Anomaly Detection System ğŸš€

Ø§ÛŒÙ† Ù¾Ø±ÙˆÚ˜Ù‡ ÛŒÚ© Ø³ÛŒØ³ØªÙ… **ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ Ø¨Ù„Ø§Ø¯Ø±Ù†Ú¯** Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² **Ù…Ø¯Ù„ LSTM** Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ…ÛŒ Ø±Ø§ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ú©Ø±Ø¯Ù‡ Ùˆ Ù†ØªØ§ÛŒØ¬ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª **Ù…ØªØ±ÛŒÚ© Prometheus** Ø§Ú©Ø³Ù¾ÙˆØ±Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§ÛŒÙ† Ø³ÛŒØ³ØªÙ… Ø¨Ø§ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÙˆØ¬ÛŒ Node Exporter Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø¯Ø± **VictoriaMetrics** Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

## ğŸ“¦ Ø³Ø§Ø®ØªØ§Ø± Ù¾Ø±ÙˆÚ˜Ù‡


---

## âš™ï¸ ØªÙˆØ¶ÛŒØ­ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

### `config.py`
- Ø´Ø§Ù…Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø§Ù†Ù†Ø¯:
  - URL Ø¨Ù‡ VictoriaMetrics
  - ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ù…Ø§Ù†ÛŒØªÙˆØ± Ø´ÙˆÙ†Ø¯
  - Threshold Ø¨Ø±Ø§ÛŒ ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ
  - Ø§Ø¨Ø¹Ø§Ø¯ Ù…Ø¯Ù„ Ùˆ Ù¾Ø§Ø±Ø§Ù…ØªØ±Ù‡Ø§ÛŒ Ø¢Ù…ÙˆØ²Ø´ÛŒ
  - Ù…Ø³ÛŒØ± Ù…Ø¯Ù„ Ø°Ø®ÛŒØ±Ù‡â€ŒØ´Ø¯Ù‡
  - ÙØ§ØµÙ„Ù‡ Ø²Ù…Ø§Ù†ÛŒ Fetch Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§

---

### `data_fetcher.py`
- **Ú¯Ø±ÙØªÙ† Ø¢Ø®Ø±ÛŒÙ† Ø¯Ø§Ø¯Ù‡** Ø§Ø² VictoriaMetrics Ø¨Ø§ PromQL Ø¨Ø±Ø§ÛŒ Ù‡Ø± feature ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡.
- Ø¨Ø§Ø²Ú¯Ø´Øª ÛŒÚ© Ø¢Ø±Ø§ÛŒÙ‡ Ø§Ø² Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¢Ø®Ø±.

---

### `detect_anomalies.py`
- Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ØŒ Ø§Ø¹Ù…Ø§Ù„ Ù¾ÛŒØ´â€ŒÙ¾Ø±Ø¯Ø§Ø²Ø´ Ùˆ ÙÛŒØ¯ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Ù…Ø¯Ù„ LSTM.
- Ù…Ø­Ø§Ø³Ø¨Ù‡â€ŒÛŒ **Ø®Ø·Ø§ÛŒ MSE**.
- ØªØ´Ø®ÛŒØµ Ø¢Ù†ÙˆÙ…Ø§Ù„ÛŒ: Ø§Ú¯Ø± Ø®Ø·Ø§ Ø§Ø² Threshold Ø¨ÛŒØ´ØªØ± Ø¨Ø§Ø´Ø¯ â” Ø¢Ù†ÙˆÙ…Ø§Ù„ÛŒ.

---

### `preprocessing.py`
- Ø¢Ù…Ø§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§:
  - Scaling Ù…Ù‚Ø§Ø¯ÛŒØ± ÙˆØ±ÙˆØ¯ÛŒ Ø¨Ø§ Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯Ø³Ø§Ø²ÛŒ (mean=0, std=1).
  - ØªØ¨Ø¯ÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ø®Ø§Ù… Ø¨Ù‡ ÙØ±Ù… Ù‚Ø§Ø¨Ù„ Ù‚Ø¨ÙˆÙ„ Ø¨Ø±Ø§ÛŒ LSTM.

---

### `model.py`
- ØªØ¹Ø±ÛŒÙ Ø³Ø§Ø®ØªØ§Ø± Ù…Ø¯Ù„ LSTM Ø´Ø§Ù…Ù„:
  - Ú†Ù†Ø¯ÛŒÙ† Ù„Ø§ÛŒÙ‡ LSTM
  - Ù„Ø§ÛŒÙ‡ Fully Connected Ø¨Ø±Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø®Ø±ÙˆØ¬ÛŒ
- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¯Ù„ Ø¢Ù…ÙˆØ²Ø´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯Ù‡.

---

### `main_prometheus_exporter.py`
- **Ø§ØµÙ„ÛŒâ€ŒØªØ±ÛŒÙ† ÙØ§ÛŒÙ„ Ø§Ø¬Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡**:
  - Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯Ù† ÛŒÚ© Ø³Ø±ÙˆØ± Flask Ø±ÙˆÛŒ `/metrics`.
  - Ø¬Ù…Ø¹â€ŒØ¢ÙˆØ±ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ â” ØªØ´Ø®ÛŒØµ Ù†Ø§Ù‡Ù†Ø¬Ø§Ø±ÛŒ â” Ø¢Ù¾Ø¯ÛŒØª Ù…ØªØ±ÛŒÚ©â€ŒÙ‡Ø§ÛŒ Prometheus.
  - Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `prometheus_client` Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øª Ù…ØªØ±ÛŒÚ©â€ŒÙ‡Ø§.

---

## ğŸ—ï¸ Ø±ÙˆÙ†Ø¯ Ú©Ù„ÛŒ Ø³ÛŒØ³ØªÙ…

```mermaid
flowchart TD
    A[VictoriaMetrics] -->|PromQL| B[Data Fetcher]
    B --> C[Preprocessing]
    C --> D[LSTM Model]
    D --> E[Compute MSE]
    E --> F[Compare with Threshold]
    F --> G{Is Anomaly?}
    G -->|Yes/No| H[Expose via Flask /metrics]
    H --> I[Prometheus Scrapes Metrics]
